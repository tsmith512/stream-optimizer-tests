<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fit Options</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
  <link rel="stylesheet" href="/style.css" type="text/css" />
</head>
<body>
  <main class="container">
    <nav>
      <ul>
        <li><strong>Transformations Scratchwork</strong></li>
      </ul>
      <ul>
        <li><a href="/">Current State</a></li>
        <li><a href="/fit">Image Fit</a></li>
      </ul>
    </nav>

    <h1>Image Fit Options</h1>
    <article>
      <hgroup>
        <h2>Overview</h2>
      </hgroup>
      <p>
        The most common use of the media transformation endpoint is to resize
        an original asset to match new dimensions. In many cases, the output
        dimensions will not match the input aspect ratio. Here is a sample of
        the current behavior of the image transformation endpoint.
      </p>
    </article>
    <article>
      <hgroup>
        <h2>Horizontal Input</h2>
      </hgroup>

      <img src="/img/horiz.jpg" />

      <hr />

      <h3>Square Output</h3>

      <div class="grid">
        <div>
          <p>"contain" or "scale-down"</p>
          <div class="sq">
            <img src="/cdn-cgi/image/width=500,height=500,fit=scale-down/img/horiz.jpg" />
          </div>
          <p>Scales, maintaining aspect ratio, to fully contain within the output dimension(s).</p>
          <p>Output may be smaller on one dimension than requested.</p>
          <p>"contain" will upscale if necessary, where "scale-down" will only reduce size.</p>
        </div>
        <div>
          <p>"cover"</p>
          <div class="sq">
            <img src="/cdn-cgi/image/width=500,height=500,fit=cover/img/horiz.jpg" />
          </div>
          <p>Scales, maintaining aspect ratio, to fully cover the output dimenisons, then crops the remaining area.</p>
          <p>Thus the processed output will always match both provided dimensions.</p>
        </div>
      </div>

      <h3>Vertical Output</h3>

      <div class="grid">
        <div>
          "scale-down"
          <div class="v">
            <img src="/cdn-cgi/image/width=300,height=900,fit=scale-down/img/horiz.jpg" />
          </div>
          <p>
          </p>
        </div>
        <div>
          "cover"
          <div class="v">
            <img src="/cdn-cgi/image/width=300,height=900,fit=cover/img/horiz.jpg" />
          </div>
          <p>
          </p>
        </div>
      </div>
    </article>

    <article>
      <hgroup>
        <h2>Vertical Input</h2>
      </hgroup>

      <img src="/img/vert.jpg" />

      <hr />

      <h3>Square Output</h3>

      <div class="grid">
        <div>
          "scale-down"
          <div class="sq">
            <img src="/cdn-cgi/image/width=500,height=500,fit=scale-down/img/vert.jpg" />
          </div>
          <p>
          </p>
        </div>
        <div>
          "cover"
          <div class="sq">
            <img src="/cdn-cgi/image/width=500,height=500,fit=cover/img/vert.jpg" />
          </div>
          <p>
          </p>
        </div>
      </div>

      <h3>Horizontal Output</h3>

      <div class="grid">
        <div>
          "scale-down"
          <div class="h">
            <img src="/cdn-cgi/image/width=900,height=300,fit=scale-down/img/vert.jpg" />
          </div>
          <p>
          </p>
        </div>
        <div>
          "cover"
          <div class="h">
            <img src="/cdn-cgi/image/width=900,height=300,fit=cover/img/vert.jpg" />
          </div>
          <p>
          </p>
        </div>
      </div>

    </article>

    <article>
      <hgroup>
        <h2>Notes and Next Steps</h2>
        <p>Clarifications and how to finish out Milestone 1's transformation flags</p>
      </hgroup>

      <h3>Clarifications</h3>

      <ul>
        <li><strong>Image Resizing does not offer any mechanism to stretch the input.</strong> We should mirror this.</li>
        <li>Special fit options:
          <ul>
            <li>"crop" acts like "cover" but it will not upscale, so it behaves like "scale-down" for larger images.</li>
            <li>"pad" acts like "scale-down" then applies a letterbox background background.</li>
          </ul>
        </li>
        <li>Other noteworthy options:
          <ul>
            <li>"gravity" anchors any cropping to center on a focus area either by automatic detection or coordinates.</li>
            <li>"trim" allows cropping by specifying offsets from each edge.</li>
          </ul>
        </li>
      </ul>

      <h3>Next Steps</h3>

      <ol>
        <li>Eliminate "clip". It was never defined and the term is already overloaded in our ecosystem.</li>
        <li>Rename "crop" to "cover" and confirm behavior &mdash; this seems to be what crop is alerady doing.</li>
        <li>Rename "scale" to "contain" and avoid stretching output content</li>
        <li>Lower priority asks:
          <ul>
            <li>Add "scale-down" to "contain" without upscaling.</li>
            <li>Add "crop" to "cover" without upscaling</li>
          </ul>
        </li>
        <li>Out of scope:
          <ul>
            <li>Not now:
              <ul>
                <li>We will not support "trim" in the initial release.</li>
                <li>We will not support "gravity" by coordinate weight in the initial release.</li>
              </ul>
            </li>
            <li>Not at all: *
              <ul>
                <li>We will not support "pad" at all.</li>
                <li>We will not support "gravity" by automatic or tracking selection.</li>
              </ul>
            </li>
          </ul>
        </li>
      </ol>

      <p><small><em>* You know how this goes. But not without a key account.</em></small></p>

    </article>
  </main>
</body>
</html>
